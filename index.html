<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Nuestra Historia ‚ô°</title>

<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600&family=Great+Vibes&display=swap" rel="stylesheet">

<style>
:root{
  --gold:#d4af37;
  --gold-soft:#e6c55c;
  --gold-deep:#b8860b;
  --gold-dark:#8c6a00;
  --deep:#0d0d0d;
  --deep-2:#111111;
  --deep-3:#1a1a1a;
  --red:#8b0000;
  --pink:#ff4d6d;
  --shadow-strong:0 25px 60px rgba(0,0,0,0.7);
  --shadow-soft:0 10px 30px rgba(0,0,0,0.4);
}

*{
  margin:0;
  padding:0;
  box-sizing:border-box;
}

body{
  background:
    radial-gradient(circle at 20% 30%,rgba(212,175,55,0.05),transparent 40%),
    radial-gradient(circle at 80% 70%,rgba(212,175,55,0.04),transparent 40%),
    var(--deep);
  color:white;
  font-family:'Cinzel',serif;
  overflow-x:hidden;
}

/* ===== SECCIONES ===== */

section{
  min-height:100vh;
  display:none;
  padding:100px 20px;
  text-align:center;
  position:relative;
}

section.active{
  display:block;
  animation:fadeIn 1.2s ease;
}

@keyframes fadeIn{
  from{opacity:0;transform:translateY(40px)}
  to{opacity:1;transform:translateY(0)}
}

h1{
  font-family:'Great Vibes',cursive;
  font-size:3.2rem;
  margin-bottom:60px;
  color:var(--gold);
  text-shadow:0 0 15px rgba(212,175,55,0.4);
  letter-spacing:1px;
}

/* ===== BOTONES ===== */

button{
  margin-top:70px;
  padding:14px 30px;
  border-radius:40px;
  border:2px solid var(--gold);
  background:transparent;
  color:var(--gold);
  transition:.5s;
  letter-spacing:1px;
}

button:hover{
  background:var(--gold);
  color:black;
  box-shadow:0 0 25px var(--gold);
  transform:translateY(-3px);
}

/* üåå ESTRELLAS */
canvas{
  position:fixed;
  inset:0;
  z-index:-1;
}

/* ================= CARTA 3D PREMIUM ================= */

.envelope-wrapper{
  margin-top:70px;
  margin-bottom:120px;
  perspective:1600px;
}

.envelope{
  width:360px;
  height:240px;
  margin:auto;
  position:relative;
  cursor:pointer;
  transform-style:preserve-3d;
  transition:transform 1s ease;
}

.envelope:hover{
  transform:rotateY(5deg) rotateX(2deg);
}

.envelope-body{
  position:absolute;
  width:100%;
  height:100%;
  background:
    linear-gradient(145deg,var(--gold),var(--gold-deep));
  border-radius:20px;
  box-shadow:var(--shadow-strong);
  border:1px solid rgba(255,255,255,0.1);
}

/* textura dorada sutil */
.envelope-body::after{
  content:"";
  position:absolute;
  inset:0;
  background:
    repeating-linear-gradient(
      45deg,
      rgba(255,255,255,0.03),
      rgba(255,255,255,0.03) 2px,
      transparent 2px,
      transparent 6px
    );
  border-radius:20px;
}

/* tapa */
.flap{
  position:absolute;
  width:100%;
  height:100%;
  background:linear-gradient(145deg,var(--gold),var(--gold-dark));
  clip-path:polygon(0 0,100% 0,50% 70%);
  transform-origin:top;
  transition:1.3s cubic-bezier(.77,0,.18,1);
  z-index:4;
  border-radius:20px 20px 0 0;
}

/* sello */
.seal{
  position:absolute;
  width:50px;
  height:50px;
  background:radial-gradient(circle,var(--red),#4a0000);
  border-radius:50%;
  top:95px;
  left:155px;
  z-index:5;
  box-shadow:0 0 25px rgba(139,0,0,0.8);
  transition:.6s;
}

/* carta interior */
.letter{
  position:absolute;
  width:92%;
  height:85%;
  background:white;
  color:black;
  left:4%;
  top:5%;
  border-radius:20px;
  padding:45px;
  font-family:'Great Vibes',cursive;
  font-size:1.7rem;
  transform:translateY(130%);
  transition:1.3s cubic-bezier(.77,0,.18,1);
  box-shadow:0 20px 50px rgba(0,0,0,0.4);
}

/* animaciones activas */
.envelope.open .flap{
  transform:rotateX(-190deg);
}

.envelope.open .letter{
  transform:translateY(0);
}

.envelope.open .seal{
  opacity:0;
}

/* part√≠culas */
.sparkle{
  position:absolute;
  width:8px;
  height:8px;
  background:radial-gradient(circle,var(--gold),transparent);
  border-radius:50%;
  pointer-events:none;
  animation:floatUp 2.5s ease forwards;
}

@keyframes floatUp{
  0%{opacity:1;transform:translateY(0) scale(1)}
  100%{opacity:0;transform:translateY(-180px) scale(0.4)}
}

/* ================= REGALO ULTRA ================= */

.gift-container{
  display:none;
  margin-top:120px;
  margin-bottom:120px;
}

.gift{
  width:240px;
  height:240px;
  margin:80px auto;
  position:relative;
  cursor:pointer;
  transition:1s;
  transform-style:preserve-3d;
  animation:glow 3s infinite alternate ease-in-out;
}

@keyframes glow{
  from{filter:drop-shadow(0 0 15px var(--gold))}
  to{filter:drop-shadow(0 0 40px var(--gold))}
}

.gift:hover{
  transform:rotateY(8deg) rotateX(3deg);
}

.box{
  width:100%;
  height:100%;
  background:linear-gradient(145deg,var(--gold),var(--gold-deep));
  border-radius:30px;
  position:absolute;
  box-shadow:var(--shadow-strong);
}

.lid{
  width:100%;
  height:80px;
  background:linear-gradient(145deg,var(--gold),var(--gold-dark));
  border-radius:30px 30px 0 0;
  position:absolute;
  top:-80px;
  transition:1s cubic-bezier(.77,0,.18,1);
  box-shadow:var(--shadow-soft);
}

.ribbonV{
  width:40px;
  height:100%;
  background:linear-gradient(var(--red),#4a0000);
  position:absolute;
  left:50%;
  transform:translateX(-50%);
}

.ribbonH{
  width:100%;
  height:40px;
  background:linear-gradient(var(--red),#4a0000);
  position:absolute;
  top:50%;
  transform:translateY(-50%);
}

.gift.open .lid{
  transform:translateY(-140px) rotate(-20deg);
}

#giftMessage{
  display:none;
  margin-top:70px;
  font-family:'Great Vibes',cursive;
  font-size:2.2rem;
  color:var(--gold-soft);
  text-shadow:0 0 20px var(--gold);
}
</style>
</head>

<body>

<canvas id="stars"></canvas>

<!-- ================= HOME ================= -->
<section id="home" class="active">
  <h1>Nuestra Historia ‚ô°</h1>

  <div class="home-buttons">
    <button onclick="go('fecha')">Fecha</button>
    <button onclick="go('regalo')">Carta & Regalo</button>
    <button onclick="go('recuerdos')">Recuerdos</button>
  </div>

  <!-- Decoraci√≥n dorada inferior -->
  <div class="home-decoration"></div>
</section>


<!-- ================= FECHA ================= -->
<section id="fecha">
  <h1>Desde que empez√≥ todo</h1>

  <div class="timer-container">
    <div class="time-box">
      <div id="years" class="time-number">0</div>
      <div class="time-label">A√±os</div>
    </div>

    <div class="time-box">
      <div id="months" class="time-number">0</div>
      <div class="time-label">Meses</div>
    </div>

    <div class="time-box">
      <div id="days" class="time-number">0</div>
      <div class="time-label">D√≠as</div>
    </div>

    <div class="time-box">
      <div id="hours" class="time-number">0</div>
      <div class="time-label">Horas</div>
    </div>

    <div class="time-box">
      <div id="minutes" class="time-number">0</div>
      <div class="time-label">Min</div>
    </div>

    <div class="time-box">
      <div id="seconds" class="time-number">0</div>
      <div class="time-label">Seg</div>
    </div>
  </div>

  <!-- Flores -->
  <div id="flores"></div>

  <button onclick="go('home')">Volver</button>
</section>


<!-- ================= CARTA + REGALO ================= -->
<section id="regalo">
  <h1>Nuestro Regalo ‚ô°</h1>

  <!-- ===== SOBRE 3D PREMIUM ===== -->
  <div class="envelope-wrapper">

    <div class="envelope" onclick="openLetter()" id="envelope">

      <!-- Cuerpo del sobre -->
      <div class="envelope-body"></div>

      <!-- Tapa -->
      <div class="flap"></div>

      <!-- Sello -->
      <div class="seal"></div>

      <!-- Carta interior -->
      <div class="letter">
        Aqu√≠ puedes escribir tu mensaje personalizado.
        Cambia este texto por lo que t√∫ quieras decir.
        Puedes hacerlo m√°s largo, m√°s rom√°ntico,
        m√°s especial‚Ä¶ este espacio es completamente tuyo.
      </div>

    </div>

  </div>


  <!-- ===== REGALO ULTRA ===== -->
  <div class="gift-container" id="giftSection">

    <div class="gift" onclick="openGift(this)">

      <div class="lid"></div>

      <div class="box"></div>

      <div class="ribbonV"></div>

      <div class="ribbonH"></div>

    </div>

    <div id="giftMessage">
      ‚ô° Eres el mejor regalo que la vida me dio ‚ô°
    </div>

  </div>

  <button onclick="go('home')">Volver</button>
</section>


<!-- ================= RECUERDOS ================= -->
<section id="recuerdos">
  <h1>Nuestros Recuerdos ‚ô°</h1>

  <div class="gallery">
    <img src="Meee.jpeg" onclick="openModal(this.src)">
    <img src="quieres ser mi novia.jpeg" onclick="openModal(this.src)">
  </div>

  <button onclick="go('home')">Volver</button>
</section>


<!-- ================= MODAL ================= -->
<div id="modal" onclick="closeModal()">
  <img id="modalImg">
</div>

<!-- Sonido apertura -->
<audio id="openSound"
src="https://assets.mixkit.co/sfx/preview/mixkit-paper-slide-1530.mp3">
</audio>

<script>

/* ================= NAVEGACI√ìN ================= */

function go(id){
  document.querySelectorAll("section").forEach(s=>{
    s.classList.remove("active");
  });

  document.getElementById(id).classList.add("active");

  // peque√±o efecto de brillo al cambiar secci√≥n
  document.body.style.transition="background 1s ease";
}


/* ================= CONTADOR (SE MANTIENE IGUAL) ================= */

const startDate=new Date("2025-12-24T18:32:00-07:00");

function update(){
  const now=new Date();
  let diff=Math.abs(now-startDate);

  years.innerText=Math.floor(diff/(1000*60*60*24*365));
  months.innerText=Math.floor(diff/(1000*60*60*24*30))%12;
  days.innerText=Math.floor(diff/(1000*60*60*24))%30;
  hours.innerText=Math.floor(diff/(1000*60*60))%24;
  minutes.innerText=Math.floor(diff/(1000*60))%60;
  seconds.innerText=Math.floor(diff/1000)%60;
}

setInterval(update,1000);
update();


/* ================= FLORES (SE MANTIENE) ================= */

for(let i=0;i<25;i++){
  let f=document.createElement("div");
  f.className="flower";
  f.style.left=Math.random()*100+"%";
  f.style.animationDuration=(3+Math.random()*3)+"s";
  flores.appendChild(f);
}


/* ================= CARTA 3D CINEM√ÅTICA ================= */

let letterOpened=false;

function openLetter(){

  if(letterOpened) return;
  letterOpened=true;

  const envelope=document.getElementById("envelope");
  const sound=document.getElementById("openSound");

  envelope.classList.add("open");

  // sonido suave
  sound.volume=0.6;
  sound.play();

  // part√≠culas doradas din√°micas
  createSparkles(40);

  // peque√±a vibraci√≥n f√≠sica
  envelope.style.animation="shake 0.4s ease";

  setTimeout(()=>{
    envelope.style.animation="";
  },400);

  // aparici√≥n dram√°tica del regalo
  setTimeout(()=>{
    const gift=document.getElementById("giftSection");
    gift.style.display="block";
    gift.style.opacity="0";
    gift.style.transform="translateY(40px)";
    gift.style.transition="all 1.2s ease";

    setTimeout(()=>{
      gift.style.opacity="1";
      gift.style.transform="translateY(0)";
    },100);

  },1800);
}


/* ================= PART√çCULAS AVANZADAS ================= */

function createSparkles(amount){

  for(let i=0;i<amount;i++){

    let spark=document.createElement("div");
    spark.className="sparkle";

    spark.style.left=Math.random()*window.innerWidth+"px";
    spark.style.top=(window.innerHeight*0.5+Math.random()*100)+"px";

    spark.style.animationDuration=(1.5+Math.random()*1.5)+"s";

    document.body.appendChild(spark);

    setTimeout(()=>{
      spark.remove();
    },2500);
  }
}


/* ================= REGALO ULTRA ================= */

let giftOpened=false;

function openGift(el){

  if(giftOpened) return;
  giftOpened=true;

  el.classList.add("open");

  // efecto de luz al abrir
  el.style.transition="1s";
  el.style.transform="scale(1.05)";

  setTimeout(()=>{
    el.style.transform="scale(1)";
  },800);

  // part√≠culas extra al abrir regalo
  createSparkles(60);

  // mensaje con fade elegante
  const message=document.getElementById("giftMessage");
  message.style.display="block";
  message.style.opacity="0";
  message.style.transform="translateY(20px)";
  message.style.transition="all 1.2s ease";

  setTimeout(()=>{
    message.style.opacity="1";
    message.style.transform="translateY(0)";
  },200);
}


/* ================= MODAL (SE MANTIENE) ================= */

function openModal(src){
  modal.style.display="flex";
  modal.style.animation="fadeIn 0.8s ease";
  modalImg.src=src;
}

function closeModal(){
  modal.style.display="none";
}


/* ================= ESTRELLAS MEJORADAS ================= */

const canvas=document.getElementById("stars");
const ctx=canvas.getContext("2d");

canvas.width=window.innerWidth;
canvas.height=window.innerHeight;

let stars=[];

for(let i=0;i<200;i++){
  stars.push({
    x:Math.random()*canvas.width,
    y:Math.random()*canvas.height,
    r:Math.random()*2,
    speed:Math.random()*0.3
  });
}

function drawStars(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  stars.forEach(s=>{
    ctx.beginPath();
    ctx.arc(s.x,s.y,s.r,0,Math.PI*2);
    ctx.fillStyle="rgba(255,255,255,0.8)";
    ctx.fill();

    s.y+=s.speed;

    if(s.y>canvas.height){
      s.y=0;
      s.x=Math.random()*canvas.width;
    }
  });

  requestAnimationFrame(drawStars);
}

drawStars();


/* ================= ANIMACI√ìN SHAKE ================= */

const style=document.createElement("style");
style.innerHTML=`
@keyframes shake{
  0%{transform:translateX(0)}
  25%{transform:translateX(-3px)}
  50%{transform:translateX(3px)}
  75%{transform:translateX(-2px)}
  100%{transform:translateX(0)}
}
`;
document.head.appendChild(style);

</script>
